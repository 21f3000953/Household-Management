{% extends 'layout.html' %}

{% block title %}Rate Service - Urban Company{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1 class="mb-4">Rate Your Service</h1>
    <h2>{{ request.service.service_name }}</h2>
    <p>Date: {{ request.request_datetime.strftime('%Y-%m-%d %H:%M') }}</p>

    {% if request.review %}
    <div class="alert alert-success" role="alert">
        Thank you for your review! You rated this service {{ request.review.rating }} out of 5 stars.
    </div>
    {% else %}
    <form method="POST">
        <div class="form-group">
            <label for="rating">Rating (1-5):</label>
            <select class="form-control" id="rating" name="rating" required>
                <option value="1">1 - Poor</option>
                <option value="2">2 - Fair</option>
                <option value="3">3 - Good</option>
                <option value="4">4 - Very Good</option>
                <option value="5">5 - Excellent</option>
            </select>
        </div>
        <div class="form-group">
            <label for="comment">Comment (optional):</label>
            <textarea class="form-control" id="comment" name="comment" rows="3"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Submit Review</button>
    </form>
    {% endif %}
</div>
{% endblock %}